# Production Environment Configuration for AutoScraper Service
# WARNING: This file contains sensitive production settings
# Ensure proper security measures are in place

# Environment
ENVIRONMENT=production

# Service Configuration
SERVICE_NAME=autoscraper-service
SERVICE_VERSION=1.0.0
SERVICE_HOST=0.0.0.0
SERVICE_PORT=8003
SERVICE_WORKERS=4
SERVICE_RELOAD=false

# Security
SECRET_KEY=8b0aceeaa899e15c513ea9b6f9de82edef07bd6ba6d36c30007856f7a3db5f77
JWT_SECRET_KEY=8b0aceeaa899e15c513ea9b6f9de82edef07bd6ba6d36c30007856f7a3db5f77
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
ALLOWED_HOSTS=["your-production-domain.com","api.your-domain.com"]

# CORS
CORS_ORIGINS=["https://your-frontend-domain.com","https://admin.your-domain.com"]
CORS_CREDENTIALS=true
CORS_METHODS=["GET","POST","PUT","DELETE","OPTIONS"]
CORS_HEADERS=["*"]

# Database (PostgreSQL for production)
DATABASE_URL=postgresql://autoscraper_user:secure_password@prod-db-host:5432/autoscraper_prod
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600
DATABASE_ECHO=false

# Redis
REDIS_URL=redis://prod-redis-host:6379/0
REDIS_PASSWORD=your-redis-password
REDIS_MAX_CONNECTIONS=50
REDIS_RETRY_ON_TIMEOUT=true

# Celery
CELERY_BROKER_URL=redis://prod-redis-host:6379/1
CELERY_RESULT_BACKEND=redis://prod-redis-host:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true
CELERY_TASK_ROUTES={}
CELERY_WORKER_CONCURRENCY=4
CELERY_TASK_TIME_LIMIT=3600
CELERY_TASK_SOFT_TIME_LIMIT=3000

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/autoscraper/app.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10
LOG_ROTATION=daily

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_PERIOD=3600
RATE_LIMIT_STORAGE_URL=redis://prod-redis-host:6379/3

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_ENDPOINT=/health
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# Metrics
METRICS_ENABLED=true
METRICS_ENDPOINT=/metrics
METRICS_PORT=9090
PROMETHEUS_ENABLED=true

# Service Discovery
MAIN_SERVICE_URL=https://api.your-domain.com
SERVICE_REGISTRY_URL=https://consul.your-domain.com
SERVICE_DISCOVERY_ENABLED=true

# Scraping Configuration
SCRAPE_TIMEOUT=60
SCRAPE_RETRY_ATTEMPTS=3
SCRAPE_DELAY=2
SCRAPE_USER_AGENT=AutoScraper/1.0 (+https://your-domain.com/bot)

# Playwright Settings
PLAYWRIGHT_HEADLESS=true
PLAYWRIGHT_TIMEOUT=60000
PLAYWRIGHT_VIEWPORT_WIDTH=1920
PLAYWRIGHT_VIEWPORT_HEIGHT=1080
PLAYWRIGHT_BROWSER=chromium

# Anti-Bot Measures
USE_PROXY=true
PROXY_ROTATION=true
USER_AGENT_ROTATION=true
RANDOM_DELAYS=true
MIN_DELAY=1
MAX_DELAY=3

# Performance Settings
CONCURRENT_SCRAPES=10
MAX_MEMORY_USAGE=2048
MAX_CPU_USAGE=80
RESOURCE_MONITORING=true

# Development Settings (disabled in production)
DEBUG=false
TESTING=false
RELOAD=false
HOT_RELOAD=false