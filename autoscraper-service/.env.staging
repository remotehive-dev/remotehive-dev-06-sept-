# Staging Environment Configuration
# RemoteHive AutoScraper Service

# Environment
ENVIRONMENT=staging
DEBUG=false
TESTING=false
RELOAD=false

# Service Configuration
SERVICE_NAME=remotehive-autoscraper-staging
HOST=0.0.0.0
PORT=8001
WORKERS=2

# Security (Staging - Use secure keys)
JWT_SECRET_KEY=staging-jwt-secret-key-change-me
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=30

# Database Configuration (PostgreSQL for staging)
DATABASE_URL=postgresql://remotehive_staging:staging_password@localhost:5432/remotehive_autoscraper_staging
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=15
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Redis Configuration (Staging Redis)
REDIS_URL=redis://localhost:6379/2
REDIS_POOL_SIZE=8

# Celery Configuration (Staging Redis)
CELERY_BROKER_URL=redis://localhost:6379/3
CELERY_RESULT_BACKEND=redis://localhost:6379/3

# Logging Configuration
LOG_LEVEL=INFO
LOG_FILE=./logs/autoscraper_staging.log

# Rate Limiting (Moderate for staging)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_WINDOW=500
RATE_LIMIT_WINDOW_SECONDS=60

# Health Checks
HEALTH_CHECK_TIMEOUT=20
HEALTH_CHECK_INTERVAL=45

# Metrics
METRICS_ENABLED=true
METRICS_PATH=/metrics

# Service Discovery (Staging environment)
MAIN_SERVICE_URL=http://staging-api.remotehive.com:8000
MAIN_SERVICE_HEALTH_ENDPOINT=/health

# Scraping Configuration (Balanced for staging)
SCRAPE_TIMEOUT=45
SCRAPE_RETRY_ATTEMPTS=3
SCRAPE_DELAY_BETWEEN_REQUESTS=1
SCRAPE_USER_AGENT=RemoteHive-AutoScraper-Staging/1.0

# Playwright Configuration (Headless for staging)
PLAYWRIGHT_HEADLESS=true
PLAYWRIGHT_TIMEOUT=45000
PLAYWRIGHT_VIEWPORT_WIDTH=1920
PLAYWRIGHT_VIEWPORT_HEIGHT=1080

# Anti-bot Measures (Basic protection for staging)
USE_PROXY=false
PROXY_URL=
ROTATE_USER_AGENTS=true
RANDOM_DELAYS=true

# Performance (Moderate limits for staging)
MAX_CONCURRENT_SCRAPES=3
MEMORY_LIMIT_MB=512
CPU_LIMIT_PERCENT=70