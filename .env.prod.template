# RemoteHive Production Environment Configuration Template
# Copy this file to .env.prod and fill in the actual values
# NEVER commit .env.prod to version control

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Environment
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=info

# Build Information
BUILD_DATE=
VERSION=
VCS_REF=

# Container Registry
REGISTRY=your-registry.com/remotehive
TAG=latest

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# MongoDB Configuration
MONGODB_URL=mongodb://admin:your-secure-password@mongodb:27017/remotehive?authSource=admin
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=your-secure-mongodb-password
MONGO_DATABASE=remotehive

# Redis Configuration
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=your-secure-redis-password

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Configuration
JWT_SECRET_KEY=your-super-secret-jwt-key-min-32-characters-long
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS Configuration
CORS_ORIGINS=https://remotehive.com,https://admin.remotehive.com,https://www.remotehive.com

# API Keys and Secrets
API_SECRET_KEY=your-api-secret-key
ENCRYPTION_KEY=your-encryption-key-32-chars-long

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Email Configuration (SMTP)
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_USE_TLS=true
SMTP_FROM_EMAIL=noreply@remotehive.com
SMTP_FROM_NAME=RemoteHive

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=remotehive-uploads
AWS_REGION=us-east-1
AWS_S3_CUSTOM_DOMAIN=cdn.remotehive.com

# Cloudflare Configuration (optional)
CLOUDFLARE_API_TOKEN=your-cloudflare-api-token
CLOUDFLARE_ZONE_ID=your-cloudflare-zone-id

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================

# Sentry Configuration
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus Configuration
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana Configuration
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=your-secure-grafana-password

# =============================================================================
# APPLICATION URLS
# =============================================================================

# Frontend URLs
NEXT_PUBLIC_API_URL=https://api.remotehive.com
VITE_API_URL=https://api.remotehive.com

# Domain Configuration
DOMAIN=remotehive.com
API_DOMAIN=api.remotehive.com
ADMIN_DOMAIN=admin.remotehive.com
WWW_DOMAIN=www.remotehive.com

# =============================================================================
# CELERY CONFIGURATION
# =============================================================================

# Celery Broker and Backend
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC

# =============================================================================
# AUTOSCRAPER CONFIGURATION
# =============================================================================

# Scraping Configuration
SCRAPING_INTERVAL=3600
SCRAPING_MAX_JOBS=1000
SCRAPING_TIMEOUT=300
SCRAPING_USER_AGENT=RemoteHive-Bot/1.0

# Job Board APIs
JOB_BOARD_API_KEYS={
  "indeed": "your-indeed-api-key",
  "linkedin": "your-linkedin-api-key",
  "glassdoor": "your-glassdoor-api-key"
}

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================

# Authentication Providers
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

LINKEDIN_CLIENT_ID=your-linkedin-client-id
LINKEDIN_CLIENT_SECRET=your-linkedin-client-secret

# Payment Processing
STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-publishable-key
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret

# Analytics
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX
GOOGLE_TAG_MANAGER_ID=GTM-XXXXXXX

# =============================================================================
# PERFORMANCE AND SCALING
# =============================================================================

# Database Connection Pooling
MONGODB_MAX_CONNECTIONS=100
MONGODB_MIN_CONNECTIONS=10
REDIS_MAX_CONNECTIONS=50

# Caching
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# File Upload Limits
MAX_UPLOAD_SIZE=10485760  # 10MB
ALLOWED_FILE_TYPES=pdf,doc,docx,txt

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================

# SSL Certificate Paths (for NGINX)
SSL_CERTIFICATE_PATH=/etc/nginx/ssl/remotehive.com.crt
SSL_CERTIFICATE_KEY_PATH=/etc/nginx/ssl/remotehive.com.key
SSL_DHPARAM_PATH=/etc/nginx/ssl/dhparam.pem

# Let's Encrypt Configuration
LETSENCRYPT_EMAIL=admin@remotehive.com
LETSENCRYPT_STAGING=false

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Database Backup
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=remotehive-backups
BACKUP_ENCRYPTION_KEY=your-backup-encryption-key

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature Toggles
ENABLE_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_TWO_FACTOR_AUTH=false
ENABLE_SOCIAL_LOGIN=true
ENABLE_PREMIUM_FEATURES=true
ENABLE_JOB_ALERTS=true
ENABLE_COMPANY_PROFILES=true

# =============================================================================
# DEVELOPMENT OVERRIDES (for staging)
# =============================================================================

# Uncomment these for staging environment
# ENVIRONMENT=staging
# DEBUG=true
# LOG_LEVEL=debug
# SENTRY_ENVIRONMENT=staging
# CORS_ORIGINS=https://staging.remotehive.com,https://admin-staging.remotehive.com
# NEXT_PUBLIC_API_URL=https://api-staging.remotehive.com
# VITE_API_URL=https://api-staging.remotehive.com

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================

# Health Check Settings
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_RETRIES=3

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Levels and Formats
LOG_FORMAT=json
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30
LOG_MAX_SIZE=100MB

# External Logging Services
LOGSTASH_HOST=logstash.remotehive.com
LOGSTASH_PORT=5044
ELASTICSEARCH_URL=https://elasticsearch.remotehive.com:9200

# =============================================================================
# CONTAINER RESOURCE LIMITS
# =============================================================================

# Memory Limits (in MB)
BACKEND_MEMORY_LIMIT=2048
WORKER_MEMORY_LIMIT=1024
FRONTEND_MEMORY_LIMIT=512
DB_MEMORY_LIMIT=4096

# CPU Limits (in cores)
BACKEND_CPU_LIMIT=2.0
WORKER_CPU_LIMIT=1.0
FRONTEND_CPU_LIMIT=1.0
DB_CPU_LIMIT=2.0